<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2P Chat for Google Sites</title>
    <meta http-equiv="X-Frame-Options" content="allow">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="chat-container">
        <!-- Connection Status -->
        <div class="connection-status" id="connection-status">
            ðŸ”´ Disconnected
        </div>
        
        <div class="chat-header">
            <h2>P2P Chat</h2>
            <div class="user-info">
                <input type="text" id="roomId" readonly>
                <button id="copyRoomId">Copy Room ID</button>
            </div>
        </div>
        
        <!-- ADD THIS CONNECTION SECTION -->
        <div class="connection-section">
            <h3>Connect to another user</h3>
            <div class="connection-input">
                <input type="text" id="connectToRoom" placeholder="Paste their Room ID here">
                <button id="connectBtn">Connect</button>
            </div>
        </div>
        
        <div class="chat-messages" id="chat"></div>
        
        <div class="chat-input">
            <input type="text" id="messageInput" placeholder="Type your message..." disabled>
            <button id="sendBtn" disabled>Send</button>
        </div>
    </div>
    
    <script src="simplepeer.min.js"></script>
    <script src="script.js"></script>
    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyA3goqO3rp5_uXJKV3RNFVkso3W7C-rYTk",
    authDomain: "p2pchat-88e5e.firebaseapp.com",
    databaseURL: "https://p2pchat-88e5e-default-rtdb.firebaseio.com",
    projectId: "p2pchat-88e5e",
    storageBucket: "p2pchat-88e5e.firebasestorage.app",
    messagingSenderId: "77422680773",
    appId: "1:77422680773:web:f2437b0a354cc2316f6eac"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
</script>
</body>
</html>
